# 값 타입 컬렉션 
***
* 값 타입을 하나 이상 저장할 때 사용
* @ElementCollection, @CollectionTable 사용
* 데이터베이스는 컬렉션을 같은 테이블에 저장할 수 없음
* 컬렉션을 저장하기 위한 별도의 테이블이 필요함
### 값 타입 컬렉션의 제약사항
***
* 값 타입은 엔티티와 다르게 식별자 개념이 없음
* 값은 변경하면 추적이 어려움
* 값 타입 컬렉션에 변경 사항이 발생하면, 주인 엔티티와 연관된 모든 데이터를 삭제하고, 값 타입 컬렉션에 있는 현재 값을 모두 다시 저장
* 값 타입 컬렉션을 매핑하는 테이블은 모든 컬럼을 묶어서 기본키를 구성해야함: null입력X, 중복저장X
***
### 값 타입 컬렉션 대안
* 실무에서는 상황에 따라 값 타입 컬렉션 대신에 일대다 관계를 고려
* 일대다 관계를 위한 엔티티를 만들고 여기에서 값을 타입을 사용
* 영속성 전이(Cascade) + 고아 객체 제거를 사용해서 값 타입 컬렉션처럼 사용
* 실무에서는 자주 사용하지 않고 간단한 내용으로만 값 타입 컬렉션 사용(추적할 필요가 없고 값이 바뀌어도 update할 필요가 없을 때)

