# 영속성 컨택스트

### JPA 내부구조
    - Entity Factory
    - Entioty Manager

### 영속성 컨택스트
    em.persist(entity); -> Entity를 영구히 저장
    논리적 개념. 눈에 보이지 않음.
    EntityManager를 통해 영속성 컨택스트에 접근함.

# 앤티티의 생명주기
## 1. 비영속 : [영속성 컨택스트와 전혀 상관없는 상태]
        Member member = new Member();
        member.setId("member1");
        member.setUsername("회원1");
        
    - EntityManager로 감싼게 아니라 영속성 컨택스트가 전혀 상관하지 않음.

## 2. 영속 : [영속성 컨택스에 관리되는 상태]
        Member member = new Member();
        member.setId("member");
        member.setUsername("회원1");

        EntityManaber em = emf.createEntityManager();
        em.getTransaction().begin();

        //객체를 저장한 상태(영속)
        em.persiste(member);

## 3. 준영속 : [영속성 컨택스트에 저장되었다 분리된 상]
## 4. 삭제 : [삭제된 상태]

